#include <stdio.h>
#include <stdint.h>
#include <sleep.h>
uint32_t *control = (uint32_t *) 0x40000000;
int main() {
  // deactivate hardware processing
  *(control) = 0;
  // MARKER = SIGN
  // input image data to image "array"
  *(control + 1) = 750288896; // 44.720703125
  *(control + 2) = 1438253056; // 85.7265625
  *(control + 3) = -970571776; // -57.8505859375
  *(control + 4) = 1733492736; // 103.32421875
  *(control + 5) = 1901559808; // 113.341796875
  *(control + 6) = -1455210496; // -86.7373046875
  *(control + 7) = -2127380480; // -126.8017578125
  *(control + 8) = 0;
  *(control + 9) = -600162304; // -35.7724609375
  *(control + 10) = -562561024; // -33.53125
  *(control + 11) = 207945728; // 12.39453125
  *(control + 12) = -879902720; // -52.4462890625
  *(control + 13) = -1974059008; // -117.6630859375
  *(control + 14) = -1301413888; // -77.5703125
  *(control + 15) = 689913856; // 41.1220703125
  *(control + 16) = 0;
  *(control + 17) = 552173568; // 32.912109375
  *(control + 18) = 1481883648; // 88.3271484375
  *(control + 19) = 778977280; // 46.4306640625
  *(control + 20) = -1462353920; // -87.1630859375
  *(control + 21) = -828784640; // -49.3994140625
  *(control + 22) = -1334755328; // -79.5576171875
  *(control + 23) = 1240481792; // 73.9384765625
  *(control + 24) = 0;
  *(control + 25) = 994197504; // 59.2587890625
  *(control + 26) = 1049559040; // 62.55859375
  *(control + 27) = -904151040; // -53.8916015625
  *(control + 28) = 1486798848; // 88.6201171875
  *(control + 29) = -1767948288; // -105.3779296875
  *(control + 30) = -115490816; // -6.8837890625
  *(control + 31) = -336035840; // -20.029296875
  *(control + 32) = 0;
  *(control + 33) = 1672282112; // 99.67578125
  *(control + 34) = 981712896; // 58.5146484375
  *(control + 35) = -1433845760; // -85.4638671875
  *(control + 36) = -1049853952; // -62.576171875
  *(control + 37) = 632111104; // 37.6767578125
  *(control + 38) = -1128153088; // -67.2431640625
  *(control + 39) = -499957760; // -29.7998046875
  *(control + 40) = 0;
  *(control + 41) = 1047363584; // 62.427734375
  *(control + 42) = 316702720; // 18.876953125
  *(control + 43) = -68501504; // -4.0830078125
  *(control + 44) = -777388032; // -46.3359375
  *(control + 45) = -57638912; // -3.435546875
  *(control + 46) = -724140032; // -43.162109375
  *(control + 47) = -114114560; // -6.8017578125
  *(control + 48) = 0;
  *(control + 49) = -775667712; // -46.2333984375
  *(control + 50) = 633929728; // 37.78515625
  *(control + 51) = -1928626176; // -114.955078125
  *(control + 52) = 1789378560; // 106.6552734375
  *(control + 53) = -1573945344; // -93.814453125
  *(control + 54) = -1130823680; // -67.40234375
  *(control + 55) = 0;
  *(control + 56) = 0;
  *(control + 57) = 0;
  *(control + 58) = 0;
  *(control + 59) = 0;
  *(control + 60) = 0;
  *(control + 61) = 0;
  *(control + 62) = 0;
  *(control + 63) = 0;
  *(control + 64) = 0;
  printf("image = [\n");
  printf("%f,\n", (double) *(control + 1) / 16777216);
  printf("%f,\n", (double) *(control + 2) / 16777216);
  printf("%f,\n", (double) *(control + 3) / 16777216);
  printf("%f,\n", (double) *(control + 4) / 16777216);
  printf("%f,\n", (double) *(control + 5) / 16777216);
  printf("%f,\n", (double) *(control + 6) / 16777216);
  printf("%f,\n", (double) *(control + 7) / 16777216);
  printf("%f,\n", (double) *(control + 8) / 16777216);
  printf("%f,\n", (double) *(control + 9) / 16777216);
  printf("%f,\n", (double) *(control + 10) / 16777216);
  printf("%f,\n", (double) *(control + 11) / 16777216);
  printf("%f,\n", (double) *(control + 12) / 16777216);
  printf("%f,\n", (double) *(control + 13) / 16777216);
  printf("%f,\n", (double) *(control + 14) / 16777216);
  printf("%f,\n", (double) *(control + 15) / 16777216);
  printf("%f,\n", (double) *(control + 16) / 16777216);
  printf("%f,\n", (double) *(control + 17) / 16777216);
  printf("%f,\n", (double) *(control + 18) / 16777216);
  printf("%f,\n", (double) *(control + 19) / 16777216);
  printf("%f,\n", (double) *(control + 20) / 16777216);
  printf("%f,\n", (double) *(control + 21) / 16777216);
  printf("%f,\n", (double) *(control + 22) / 16777216);
  printf("%f,\n", (double) *(control + 23) / 16777216);
  printf("%f,\n", (double) *(control + 24) / 16777216);
  printf("%f,\n", (double) *(control + 25) / 16777216);
  printf("%f,\n", (double) *(control + 26) / 16777216);
  printf("%f,\n", (double) *(control + 27) / 16777216);
  printf("%f,\n", (double) *(control + 28) / 16777216);
  printf("%f,\n", (double) *(control + 29) / 16777216);
  printf("%f,\n", (double) *(control + 30) / 16777216);
  printf("%f,\n", (double) *(control + 31) / 16777216);
  printf("%f,\n", (double) *(control + 32) / 16777216);
  printf("%f,\n", (double) *(control + 33) / 16777216);
  printf("%f,\n", (double) *(control + 34) / 16777216);
  printf("%f,\n", (double) *(control + 35) / 16777216);
  printf("%f,\n", (double) *(control + 36) / 16777216);
  printf("%f,\n", (double) *(control + 37) / 16777216);
  printf("%f,\n", (double) *(control + 38) / 16777216);
  printf("%f,\n", (double) *(control + 39) / 16777216);
  printf("%f,\n", (double) *(control + 40) / 16777216);
  printf("%f,\n", (double) *(control + 41) / 16777216);
  printf("%f,\n", (double) *(control + 42) / 16777216);
  printf("%f,\n", (double) *(control + 43) / 16777216);
  printf("%f,\n", (double) *(control + 44) / 16777216);
  printf("%f,\n", (double) *(control + 45) / 16777216);
  printf("%f,\n", (double) *(control + 46) / 16777216);
  printf("%f,\n", (double) *(control + 47) / 16777216);
  printf("%f,\n", (double) *(control + 48) / 16777216);
  printf("%f,\n", (double) *(control + 49) / 16777216);
  printf("%f,\n", (double) *(control + 50) / 16777216);
  printf("%f,\n", (double) *(control + 51) / 16777216);
  printf("%f,\n", (double) *(control + 52) / 16777216);
  printf("%f,\n", (double) *(control + 53) / 16777216);
  printf("%f,\n", (double) *(control + 54) / 16777216);
  printf("%f,\n", (double) *(control + 55) / 16777216);
  printf("%f,\n", (double) *(control + 56) / 16777216);
  printf("%f,\n", (double) *(control + 57) / 16777216);
  printf("%f,\n", (double) *(control + 58) / 16777216);
  printf("%f,\n", (double) *(control + 59) / 16777216);
  printf("%f,\n", (double) *(control + 60) / 16777216);
  printf("%f,\n", (double) *(control + 61) / 16777216);
  printf("%f,\n", (double) *(control + 62) / 16777216);
  printf("%f,\n", (double) *(control + 63) / 16777216);
  printf("%f,\n", (double) *(control + 64) / 16777216);
  printf("]\n");
  // input weight data to weight "array"
  *(control + 65) = 679247872; // 40.486328125
  *(control + 66) = -1054851072; // -62.8740234375
  *(control + 67) = -791691264; // -47.1884765625
  *(control + 68) = 448397312; // 26.7265625
  *(control + 69) = -1623244800; // -96.7529296875
  *(control + 70) = 0;
  *(control + 71) = 0;
  *(control + 72) = -1681457152; // -100.22265625
  *(control + 73) = -1304133632; // -77.732421875
  *(control + 74) = 368525312; // 21.9658203125
  *(control + 75) = 816300032; // 48.6552734375
  *(control + 76) = -269467648; // -16.0615234375
  *(control + 77) = 0;
  *(control + 78) = 0;
  *(control + 79) = -1252163584; // -74.634765625
  *(control + 80) = -239255552; // -14.2607421875
  *(control + 81) = -1705672704; // -101.666015625
  *(control + 82) = 833486848; // 49.6796875
  *(control + 83) = 404881408; // 24.1328125
  *(control + 84) = 0;
  *(control + 85) = 0;
  *(control + 86) = -1475837952; // -87.966796875
  *(control + 87) = 815529984; // 48.609375
  *(control + 88) = -212877312; // -12.6884765625
  *(control + 89) = 982663168; // 58.5712890625
  *(control + 90) = -123469824; // -7.359375
  *(control + 91) = 0;
  *(control + 92) = 0;
  *(control + 93) = 619495424; // 36.9248046875
  *(control + 94) = 0;
  *(control + 95) = 0;
  *(control + 96) = 0;
  *(control + 97) = 0;
  *(control + 98) = 0;
  *(control + 99) = 0;
  *(control + 100) = 0;
  *(control + 101) = 0;
  *(control + 102) = 0;
  *(control + 103) = 0;
  *(control + 104) = 0;
  *(control + 105) = 0;
  *(control + 106) = 0;
  *(control + 107) = 0;
  *(control + 108) = 0;
  *(control + 109) = 0;
  *(control + 110) = 0;
  *(control + 111) = 0;
  *(control + 112) = 0;
  *(control + 113) = 0;
  printf("weight = [\n");
  printf("%f,\n", (double) *(control + 65) / 16777216);
  printf("%f,\n", (double) *(control + 66) / 16777216);
  printf("%f,\n", (double) *(control + 67) / 16777216);
  printf("%f,\n", (double) *(control + 68) / 16777216);
  printf("%f,\n", (double) *(control + 69) / 16777216);
  printf("%f,\n", (double) *(control + 70) / 16777216);
  printf("%f,\n", (double) *(control + 71) / 16777216);
  printf("%f,\n", (double) *(control + 72) / 16777216);
  printf("%f,\n", (double) *(control + 73) / 16777216);
  printf("%f,\n", (double) *(control + 74) / 16777216);
  printf("%f,\n", (double) *(control + 75) / 16777216);
  printf("%f,\n", (double) *(control + 76) / 16777216);
  printf("%f,\n", (double) *(control + 77) / 16777216);
  printf("%f,\n", (double) *(control + 78) / 16777216);
  printf("%f,\n", (double) *(control + 79) / 16777216);
  printf("%f,\n", (double) *(control + 80) / 16777216);
  printf("%f,\n", (double) *(control + 81) / 16777216);
  printf("%f,\n", (double) *(control + 82) / 16777216);
  printf("%f,\n", (double) *(control + 83) / 16777216);
  printf("%f,\n", (double) *(control + 84) / 16777216);
  printf("%f,\n", (double) *(control + 85) / 16777216);
  printf("%f,\n", (double) *(control + 86) / 16777216);
  printf("%f,\n", (double) *(control + 87) / 16777216);
  printf("%f,\n", (double) *(control + 88) / 16777216);
  printf("%f,\n", (double) *(control + 89) / 16777216);
  printf("%f,\n", (double) *(control + 90) / 16777216);
  printf("%f,\n", (double) *(control + 91) / 16777216);
  printf("%f,\n", (double) *(control + 92) / 16777216);
  printf("%f,\n", (double) *(control + 93) / 16777216);
  printf("%f,\n", (double) *(control + 94) / 16777216);
  printf("%f,\n", (double) *(control + 95) / 16777216);
  printf("%f,\n", (double) *(control + 96) / 16777216);
  printf("%f,\n", (double) *(control + 97) / 16777216);
  printf("%f,\n", (double) *(control + 98) / 16777216);
  printf("%f,\n", (double) *(control + 99) / 16777216);
  printf("%f,\n", (double) *(control + 100) / 16777216);
  printf("%f,\n", (double) *(control + 101) / 16777216);
  printf("%f,\n", (double) *(control + 102) / 16777216);
  printf("%f,\n", (double) *(control + 103) / 16777216);
  printf("%f,\n", (double) *(control + 104) / 16777216);
  printf("%f,\n", (double) *(control + 105) / 16777216);
  printf("%f,\n", (double) *(control + 106) / 16777216);
  printf("%f,\n", (double) *(control + 107) / 16777216);
  printf("%f,\n", (double) *(control + 108) / 16777216);
  printf("%f,\n", (double) *(control + 109) / 16777216);
  printf("%f,\n", (double) *(control + 110) / 16777216);
  printf("%f,\n", (double) *(control + 111) / 16777216);
  printf("%f,\n", (double) *(control + 112) / 16777216);
  printf("%f,\n", (double) *(control + 113) / 16777216);
  printf("]\n");
  // activate hardware processing
  *(control) = 0xffffffff;
  // sleep while hardware is processing, time slept given for the hardware is 120% of hardware processing time to the nearest us
  usleep(1);
  // deactivate hardware processing
  *(control) = 0;
  printf("result = [\n");
  printf("%f,\n", (double) *(control + 114) / 65536);
  printf("%f,\n", (double) *(control + 115) / 65536);
  printf("%f,\n", (double) *(control + 116) / 65536);
  printf("%f,\n", (double) *(control + 117) / 65536);
  printf("%f,\n", (double) *(control + 118) / 65536);
  printf("%f,\n", (double) *(control + 119) / 65536);
  printf("%f,\n", (double) *(control + 120) / 65536);
  printf("%f,\n", (double) *(control + 121) / 65536);
  printf("%f,\n", (double) *(control + 122) / 65536);
  printf("%f,\n", (double) *(control + 123) / 65536);
  printf("%f,\n", (double) *(control + 124) / 65536);
  printf("%f,\n", (double) *(control + 125) / 65536);
  printf("%f,\n", (double) *(control + 126) / 65536);
  printf("%f,\n", (double) *(control + 127) / 65536);
  printf("%f,\n", (double) *(control + 128) / 65536);
  printf("%f,\n", (double) *(control + 129) / 65536);
  printf("%f,\n", (double) *(control + 130) / 65536);
  printf("%f,\n", (double) *(control + 131) / 65536);
  printf("%f,\n", (double) *(control + 132) / 65536);
  printf("%f,\n", (double) *(control + 133) / 65536);
  printf("%f,\n", (double) *(control + 134) / 65536);
  printf("%f,\n", (double) *(control + 135) / 65536);
  printf("%f,\n", (double) *(control + 136) / 65536);
  printf("%f,\n", (double) *(control + 137) / 65536);
  printf("%f,\n", (double) *(control + 138) / 65536);
  printf("%f,\n", (double) *(control + 139) / 65536);
  printf("%f,\n", (double) *(control + 140) / 65536);
  printf("%f,\n", (double) *(control + 141) / 65536);
  printf("%f,\n", (double) *(control + 142) / 65536);
  printf("%f,\n", (double) *(control + 143) / 65536);
  printf("%f,\n", (double) *(control + 144) / 65536);
  printf("%f,\n", (double) *(control + 145) / 65536);
  printf("%f,\n", (double) *(control + 146) / 65536);
  printf("%f,\n", (double) *(control + 147) / 65536);
  printf("%f,\n", (double) *(control + 148) / 65536);
  printf("%f,\n", (double) *(control + 149) / 65536);
  printf("%f,\n", (double) *(control + 150) / 65536);
  printf("%f,\n", (double) *(control + 151) / 65536);
  printf("%f,\n", (double) *(control + 152) / 65536);
  printf("%f,\n", (double) *(control + 153) / 65536);
  printf("%f,\n", (double) *(control + 154) / 65536);
  printf("%f,\n", (double) *(control + 155) / 65536);
  printf("%f,\n", (double) *(control + 156) / 65536);
  printf("%f,\n", (double) *(control + 157) / 65536);
  printf("%f,\n", (double) *(control + 158) / 65536);
  printf("%f,\n", (double) *(control + 159) / 65536);
  printf("%f,\n", (double) *(control + 160) / 65536);
  printf("%f,\n", (double) *(control + 161) / 65536);
  printf("%f,\n", (double) *(control + 162) / 65536);
  printf("%f,\n", (double) *(control + 163) / 65536);
  printf("%f,\n", (double) *(control + 164) / 65536);
  printf("%f,\n", (double) *(control + 165) / 65536);
  printf("%f,\n", (double) *(control + 166) / 65536);
  printf("%f,\n", (double) *(control + 167) / 65536);
  printf("%f,\n", (double) *(control + 168) / 65536);
  printf("%f,\n", (double) *(control + 169) / 65536);
  printf("%f,\n", (double) *(control + 170) / 65536);
  printf("%f,\n", (double) *(control + 171) / 65536);
  printf("%f,\n", (double) *(control + 172) / 65536);
  printf("%f,\n", (double) *(control + 173) / 65536);
  printf("%f,\n", (double) *(control + 174) / 65536);
  printf("%f,\n", (double) *(control + 175) / 65536);
  printf("%f,\n", (double) *(control + 176) / 65536);
  printf("%f,\n", (double) *(control + 177) / 65536);
  printf("]\n");
  // MARKER = REPEAT from SIGN ad infinitum
}
